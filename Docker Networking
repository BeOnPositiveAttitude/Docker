# когда мы устанавливаем Docker, он автоматически создает три сети: bridge, none и host
# bridged - дефолтная сеть, к которой по умолчанию подключаются все контейнеры
# если требуется подключить контейнер к другой сети, нужно использовать параметр --network:
docker run ubuntu --network=host

# bridged - внутренняя private сеть создаваемая докером на хосте
# контейнеры подключенные к этой сети получают ip-адреса и диапазона 172.17.0.2 - 172.17.0.254 и взаимодействуют друг с другом с помощью этих адресов
# чтобы получить доступ к контейнеру извне, необходимо настроить маппинг портов
# другой способ получить доступ к контейнеру извне - подключить его к host-сети, в этом случае маппинг портов не требуется
# т.к. порт контейнера занимает порт докер-хоста
# минус такого подхода состоит в том, чем мы не можем запустить несколько контейнеров (например с открытым портом 5000) на одном хосте
# т.к. порт 5000 уже будет занят первым запущенным контейнером
# при подключении к сети none контейнеры не имеют доступа в какую-либо сеть, ни во внешнюю, ни для взаимодействия с другими контейнерами

# предположим, что нам нужно изолировать два контейнера в сеть 172.17.0.1, а два других в сеть 182.18.0.1
# по умолчанию Docker создает только одну bridged-сеть
# мы можем создать новую сеть:
docker network create --driver bridge --subnet 182.18.0.0/16 custom-isolated-network
docker network ls   #смотреть список сетей

# узнать ip-адрес контейнера можно командой docker inspect container_name

# для взаимодействия контейнеров друг с другом не стоит указывать ip-адрес, т.к. он может поменяться после перезагрузки контейнера
# контейнер
