# с помощью Docker Swarm мы можем объединить несколько Docker-машин в один кластер
# он позабодится о распределении контейнеров между хостами кластера для HA и балансировки нагрузки
# для установки Docker Swarm нам нужно несколько хостов с установленным Docker
# один из них будет Swarm Manager (master), а другие будут slaves (workers)
# далее нужно запустить команду docker swarm init на мастере и в output мы получим команду, которую нужно запустить на worker-нодах для присоединения к мастеру
# ключевой компонент Docker Swarm - это docker service
# service - это один или несколько экземпляров приложения, запущенного на одном site

docker service create --replicas=3 my-web-server   #replicas - количество экземпляров нашего приложения, команда должна быть выполненая на мастере, не на воркерах
# поддерживаются опции как в обычном Docker: -p для портов, -e для environment variables и т.д.
