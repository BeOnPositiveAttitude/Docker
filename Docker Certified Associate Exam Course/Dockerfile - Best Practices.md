**Первое правило** бойцовского клуба. Не нужно держать в образе несколько приложений (веб-сервер, база данных и приложение all-in-one).

Каждый образ должен решать определенную задачу и содержать только необходимые ему зависимости. Соответственно должен быть отдельный образ веб-сервера, отдельный образ БД и отдельный образ приложения. Таким образом мы сможем масштабировать только нужный нам компонент без необходимости масштабировать сразу все.

**Второе правило**. Не нужно хранить данные/состояние внутри контейнера, т.к. контейнер по своей природе недолговечен (ephemeral). Хранить данные нужно на внешних томах либо в каком-нибудь кэше, например в Redis.

**Третье правило**. Размер образа должен быть минимальным. Это позволит уменьшить время скачивания образа и его развертывания. Используйте в качестве базовых официальные образы различных ОС. Устанавливайте только необходимые для работы приложения пакеты. Не оставляйте в образе необходимые во время разработки debug tools. Используйте multi-stage builds, чтобы не держать несколько отдельных образов (для сборки и для production). Не храните в каталоге build context ненужные/временные файлы, либо используйте `.dockerignore`.